(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var d=e.g.document;if(!t&&d&&(d.currentScript&&(t=d.currentScript.src),!t)){var n=d.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=(e,t,d,n)=>{let a=0;return{title:e,description:t,dueDate:d,priority:n,getStatus:()=>a,toggleStatus:()=>{a=0===a?1:0}}},d=e=>{const t=[];return{name:e,todoList:t,addTodo:e=>{t.push(e)},removeTodo:e=>{t.splice(e,1)},toggleTodoStatus:e=>{t[e].toggleStatus()},editTodo:(e,d,n,a,o)=>{const i=t[e];i.title=d,i.description=n,i.dueDate=a,i.priority=o},getTodo:e=>t[e]}},n=e.p+"bcf8d6ff346603c8a51a.svg",a=document.getElementById("content"),o=e=>{const t=document.createElement("h1");t.innerHTML=e.name;const d=document.createElement("div");d.classList.add("todos"),d.appendChild(t),d.id=e.name.toLowerCase(),e.todoList.forEach(((t,n)=>{const a=c(t,e,n);d.appendChild(a)}));const n=s(e);d.appendChild(n),a.appendChild(d)},i=e=>{const t=document.getElementById(e.name.toLowerCase());t.innerHTML="";const d=document.createElement("h1");d.innerHTML=e.name,t.appendChild(d),e.todoList.forEach(((d,n)=>{const a=c(d,e,n);t.appendChild(a)}));const n=s(e);t.appendChild(n)},c=(e,t,d)=>{const a=document.createElement("div");a.classList.add("todo");const o=((e,t,d)=>{const n=document.createElement("div");return n.classList.add("radio"),n.setAttribute("todo-index",d),n.setAttribute("project",t.name.toLowerCase()),1===e.getStatus()&&n.classList.add("selected"),n})(e,t,d),i=((e,t)=>{const d=document.createElement("img");return d.src=n,d.classList.add("small-icon","delete"),d.setAttribute("todo-index",t),d.setAttribute("project",e.name.toLowerCase()),d})(t,d),c=((e,t,d)=>{const n=document.createElement("div");n.classList.add("project-details");const a=document.createElement("div");a.classList.add("title"),a.innerHTML=e.title,a.setAttribute("project",t.name.toLowerCase()),a.setAttribute("todo-index",d);const o=document.createElement("div");return o.classList.add("due-date","sub-title"),o.innerHTML=e.dueDate,n.appendChild(a),n.appendChild(o),n})(e,t,d);return a.appendChild(o),a.appendChild(c),a.appendChild(i),a},s=e=>{const t=document.createElement("div");t.classList.add("add-todo"),t.setAttribute("project",e.name.toLowerCase());const d=document.createElement("div");d.classList.add("plus");const n=document.createTextNode("+");d.appendChild(n),t.appendChild(d);const a=document.createTextNode("Add task");return t.appendChild(a),t},l=document.getElementById("modal"),r=(document.getElementsByClassName("modal-card")[0],document.getElementsByClassName("modal-content")[0]),m=document.getElementById("close-modal");window.onclick=e=>{e.target===l&&(l.style.display="none")},m.onclick=()=>{l.style.display="none"};const p=(e,t)=>{const d=document.createElement("div"),n=document.createElement("p");n.classList.add("title"),n.innerHTML=e;const a=document.createElement("p");return a.innerHTML=t,d.appendChild(n),d.appendChild(a),d},u=()=>{const e=document.createElement("div");e.classList.add("field");const t=document.createElement("label");t.classList.add("label"),t.setAttribute("for","title"),t.innerHTML="Title";const d=document.createElement("input");return d.id="title",d.setAttribute("type","text"),d.classList.add("input"),e.appendChild(t),e.appendChild(d),e},h=()=>{const e=document.createElement("div");e.classList.add("field");const t=["Low","Medium","High"],d=document.createElement("label");d.setAttribute("for","priority"),d.classList.add("label"),d.innerHTML="Priority";const n=document.createElement("select");n.id="priority",n.classList.add("select");for(let e=0;e<t.length;e++){const d=document.createElement("option");d.value=t[e],d.text=t[e],n.appendChild(d)}return e.appendChild(d),e.appendChild(n),e},g=()=>{const e=document.createElement("div");e.classList.add("field");const t=document.createElement("label");t.setAttribute("for","duedate"),t.classList.add("label"),t.innerHTML="Due date";const d=document.createElement("input");return d.id="duedate",d.setAttribute("type","date"),e.appendChild(t),e.appendChild(d),e},E=()=>{const e=document.createElement("div");e.classList.add("field");const t=document.createElement("label");t.setAttribute("for","description"),t.classList.add("label"),t.innerHTML="Description";const d=document.createElement("textarea");return d.id="description",d.classList.add("textarea"),e.appendChild(t),e.appendChild(d),e},L=e=>{const t=document.createElement("div");t.classList.add("field");const d=document.createElement("a");return d.classList.add("button"),d.innerHTML=e,t.appendChild(d),t},y=e=>{const t=document.createElement("input");return t.setAttribute("type","hidden"),t.value=e,t.id="project",t},C=document.getElementById("burger"),b=document.getElementById("menu");C.addEventListener("click",(()=>{b.classList.toggle("is-hidden")}));const v=d("Inbox"),T=t("A dynamically generated task","N/a","Whenever","High"),f=t("A dynamically generated task","N/a","Whenever","High"),A=t("A dynamically generated task","N/a","Whenever","High");v.addTodo(T),v.addTodo(f),v.addTodo(A),v.toggleTodoStatus(2),o(v);const w=d("Work"),H=t("A dynamically generated work task","N/a","Whenever","High"),k=t("A dynamically generated work task","N/a","Whenever","High");w.addTodo(H),w.addTodo(k),o(w);const B={inbox:v,work:w};document.getElementById("content").addEventListener("click",(e=>{if(!e.target.hasAttribute("project"))return;const t=e.target.getAttribute("project"),d=e.target.getAttribute("todo-index"),n=B[t].getTodo(d);e.target.matches(".radio")?(e.target.classList.toggle("selected"),B[t].toggleTodoStatus(d)):e.target.matches(".title")?(e=>{r.innerHTML="";const t=(e=>{const t=document.createElement("h1");t.innerHTML=e.title;const d=p("Priority",e.priority),n=p("Due date",e.dueDate),a=p("Description",e.description),o=document.createElement("div");return o.appendChild(t),o.appendChild(d),o.appendChild(n),o.appendChild(a),o})(e);r.appendChild(t),l.style.display="block"})(n):e.target.matches(".delete")?(B[t].removeTodo(d),console.log(B[t]),i(B[t])):e.target.matches(".add-todo")&&(e=>{r.innerHTML="";const t=(e=>{const t=u(),d=h(),n=g(),a=E(),o=L("Add todo"),i=y(e),c=document.createElement("form");return c.id="new-todo-form",c.appendChild(t),c.appendChild(d),c.appendChild(n),c.appendChild(a),c.appendChild(o),c.appendChild(i),c})(e);r.appendChild(t),l.style.display="block"})(t)})),document.getElementsByClassName("modal-content")[0].addEventListener("click",(e=>{if(!e.target.matches(".button"))return;const d=document.getElementById("title").value,n=document.getElementById("priority").value,a=document.getElementById("duedate").value,o=document.getElementById("description").value,c=document.getElementById("project").value,s=t(d,o,a,n);modal.style.display="none",B[c].addTodo(s),i(B[c])}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUlzQmxILFNBQVMrRCx1QkFBdUIsaUJBQWlCLEdBRXpEd0MsaUJBQWlCLFNBQVU1RyxJQUV6QyxJQUFLQSxFQUFFdUUsT0FBT29ELFFBQVEsV0FBWSxPQUdsQyxNQUFNZ0IsRUFBYXRJLFNBQVM0QixlQUFlLFNBQVN5RCxNQUM5Q2tELEVBQWdCdkksU0FBUzRCLGVBQWUsWUFBWXlELE1BQ3BEbUQsRUFBZXhJLFNBQVM0QixlQUFlLFdBQVd5RCxNQUNsRG9ELEVBQW1CekksU0FBUzRCLGVBQWUsZUFBZXlELE1BQzFEcUQsRUFBZTFJLFNBQVM0QixlQUFlLFdBQVd5RCxNQUNsRGdDLEVBQVcsRUFBS2lCLEVBQVlHLEVBQWtCRCxFQUFjRCxHQUVsRUksTUFBTXhFLE1BQU1DLFFBQVUsT0FHdEI0QyxFQUFTMEIsR0FBY3hILFFBQVFtRyxHQUMvQnhFLEVBQWNtRSxFQUFTMEIsR0FBYyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG8tbGlzdHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdHMvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90by1kby1saXN0cy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly90by1kby1saXN0cy8uL3NyYy90b2RvLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3RzLy4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdHMvLi9zcmMvbG9hZFRvZG9zLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3RzLy4vc3JjL21vZGFsVmlld0NvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdHMvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdHMvLi9zcmMvdG9kb1ZpZXdDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiY29uc3QgdG9kbyA9ICh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSA9PiB7XG4gIGxldCBzdGF0dXMgPSAwO1xuXG4gIGNvbnN0IGdldFN0YXR1cyA9ICgpID0+IHtcbiAgICByZXR1cm4gc3RhdHVzO1xuICB9O1xuXG4gIC8vIFN0YXR1cyBvZiB6ZXJvIGlzIGluY29tcGxldGUsIHN0YXR1cyBvZiBvbmUgaXMgY29tcGxldGVcbiAgY29uc3QgdG9nZ2xlU3RhdHVzID0gKCkgPT4ge1xuICAgIHN0YXR1cyA9IHN0YXR1cyA9PT0gMCA/IDEgOiAwO1xuICB9O1xuXG4gIC8vIFJldHVybiB0b2RvIHByb3BydGllc1xuICByZXR1cm4geyB0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBnZXRTdGF0dXMsIHRvZ2dsZVN0YXR1cyB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b2RvOyIsImNvbnN0IHByb2plY3QgPSAobmFtZSkgPT4ge1xuICBjb25zdCB0b2RvTGlzdCA9IFtdO1xuXG4gIGNvbnN0IGFkZFRvZG8gPSAodG9kbykgPT4ge1xuICAgIHRvZG9MaXN0LnB1c2godG9kbyk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlVG9kbyA9IChpbmRleCkgPT4ge1xuICAgIHRvZG9MaXN0LnNwbGljZShpbmRleCwgMSk7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlVG9kb1N0YXR1cyA9IChpbmRleCkgPT4ge1xuICAgIGNvbnN0IHRvZG8gPSB0b2RvTGlzdFtpbmRleF07XG4gICAgdG9kby50b2dnbGVTdGF0dXMoKVxuICB9XG5cbiAgY29uc3QgZWRpdFRvZG8gPSAoaW5kZXgsIHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpID0+IHtcbiAgICBjb25zdCB0b2RvID0gdG9kb0xpc3RbaW5kZXhdO1xuICAgIHRvZG8udGl0bGUgPSB0aXRsZTtcbiAgICB0b2RvLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgdG9kby5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICB0b2RvLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gIH07XG5cbiAgY29uc3QgZ2V0VG9kbyA9IChpbmRleCkgPT4ge1xuICAgIHJldHVybiB0b2RvTGlzdFtpbmRleF07XG4gIH07XG5cbiAgcmV0dXJuIHsgbmFtZSwgdG9kb0xpc3QsIGFkZFRvZG8sIHJlbW92ZVRvZG8sIHRvZ2dsZVRvZG9TdGF0dXMsIGVkaXRUb2RvLCBnZXRUb2RvIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwcm9qZWN0OyIsImltcG9ydCB0cmFzaFN2ZyBmcm9tICcuL2ltYWdlcy9nYXJiYWdlLnN2Zyc7XG5cbi8vIE1vZHVsZSB0byBsb2FkIHByb2plY3QgYW5kIGFzc29jaWF0ZWQgdG9kb3MgdG8gRE9NXG5jb25zdCBjb250ZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKTtcblxuY29uc3QgbG9hZFByb2plY3QgPSAocHJvamVjdCkgPT4ge1xuICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICBoZWFkZXIuaW5uZXJIVE1MID0gcHJvamVjdC5uYW1lO1xuICBjb25zdCB0b2Rvc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0b2Rvc0Rpdi5jbGFzc0xpc3QuYWRkKCd0b2RvcycpO1xuICB0b2Rvc0Rpdi5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICB0b2Rvc0Rpdi5pZCA9IHByb2plY3QubmFtZS50b0xvd2VyQ2FzZSgpO1xuICBcbiAgcHJvamVjdC50b2RvTGlzdC5mb3JFYWNoKCh0b2RvLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHRvZG9MaXN0SXRlbSA9IGNyZWF0ZVRvZG9MaXN0SXRlbSh0b2RvLCBwcm9qZWN0LCBpbmRleCk7XG4gICAgdG9kb3NEaXYuYXBwZW5kQ2hpbGQodG9kb0xpc3RJdGVtKTtcbiAgfSk7XG5cbiAgY29uc3QgYWRkVGFzayA9IGNyZWF0ZUFkZFRhc2tCdXR0b24ocHJvamVjdCk7XG5cbiAgdG9kb3NEaXYuYXBwZW5kQ2hpbGQoYWRkVGFzayk7XG4gIGNvbnRlbnREaXYuYXBwZW5kQ2hpbGQodG9kb3NEaXYpO1xufTtcblxuY29uc3QgcmVsb2FkUHJvamVjdCA9IChwcm9qZWN0KSA9PiB7XG4gIGNvbnN0IHByb2plY3REaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcm9qZWN0Lm5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIHByb2plY3REaXYuaW5uZXJIVE1MID0gJyc7XG5cbiAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKTtcbiAgaGVhZGVyLmlubmVySFRNTCA9IHByb2plY3QubmFtZTtcbiAgcHJvamVjdERpdi5hcHBlbmRDaGlsZChoZWFkZXIpO1xuXG4gIHByb2plY3QudG9kb0xpc3QuZm9yRWFjaCgodG9kbywgaW5kZXgpID0+IHtcbiAgICBjb25zdCB0b2RvTGlzdEl0ZW0gPSBjcmVhdGVUb2RvTGlzdEl0ZW0odG9kbywgcHJvamVjdCwgaW5kZXgpO1xuICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQodG9kb0xpc3RJdGVtKTtcbiAgfSk7XG5cbiAgY29uc3QgYWRkVGFzayA9IGNyZWF0ZUFkZFRhc2tCdXR0b24ocHJvamVjdCk7XG4gIHByb2plY3REaXYuYXBwZW5kQ2hpbGQoYWRkVGFzayk7XG59O1xuXG4vLyBDcmVhdGUgcmFkaW8gYnV0dG9uIGVsZW1lbnQgZm9yIHRvZG8gbGlzdCBpdGVtXG5jb25zdCBjcmVhdGVSYWRpb0J1dHRvbiA9ICh0b2RvLCBwcm9qZWN0LCBpbmRleCkgPT4ge1xuICBjb25zdCByYWRpb0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICByYWRpb0Rpdi5jbGFzc0xpc3QuYWRkKCdyYWRpbycpO1xuICByYWRpb0Rpdi5zZXRBdHRyaWJ1dGUoJ3RvZG8taW5kZXgnLCBpbmRleCk7XG4gIHJhZGlvRGl2LnNldEF0dHJpYnV0ZSgncHJvamVjdCcsIHByb2plY3QubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgXG4gIGlmICh0b2RvLmdldFN0YXR1cygpID09PSAxKSB7XG4gICAgcmFkaW9EaXYuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgfVxuXG4gIHJldHVybiByYWRpb0Rpdjtcbn07XG5cbi8vIENyZWF0ZSBkaXYgdG8gZGlzcGxheSBkZXRhaWxzIG9mIHRoZSB0b2RvIGxpc3QgaXRlbVxuY29uc3QgY3JlYXRlVG9kb0l0ZW0gPSAodG9kbywgcHJvamVjdCwgaW5kZXgpID0+IHtcbiAgY29uc3QgcHJvamVjdERldGFpbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJvamVjdERldGFpbHMuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1kZXRhaWxzJyk7XG5cbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGl0bGUuY2xhc3NMaXN0LmFkZCgndGl0bGUnKTtcbiAgdGl0bGUuaW5uZXJIVE1MID0gdG9kby50aXRsZTtcbiAgdGl0bGUuc2V0QXR0cmlidXRlKCdwcm9qZWN0JywgcHJvamVjdC5uYW1lLnRvTG93ZXJDYXNlKCkpO1xuICB0aXRsZS5zZXRBdHRyaWJ1dGUoJ3RvZG8taW5kZXgnLCBpbmRleCk7XG5cbiAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkdWVEYXRlLmNsYXNzTGlzdC5hZGQoJ2R1ZS1kYXRlJywgJ3N1Yi10aXRsZScpO1xuICBkdWVEYXRlLmlubmVySFRNTCA9IHRvZG8uZHVlRGF0ZTtcblxuICBwcm9qZWN0RGV0YWlscy5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gIHByb2plY3REZXRhaWxzLmFwcGVuZENoaWxkKGR1ZURhdGUpO1xuXG4gIHJldHVybiBwcm9qZWN0RGV0YWlscztcbn07XG5cbi8vIENyZWF0ZSB0cmFzaCBpY29uIGZvciB0b2RvIGxpc3QgaXRlbVxuY29uc3QgY3JlYXRlVHJhc2hJY29uID0gKHByb2plY3QsIGluZGV4KSA9PiB7XG4gIGNvbnN0IHRyYXNoSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICB0cmFzaEljb24uc3JjID0gdHJhc2hTdmc7XG4gIHRyYXNoSWNvbi5jbGFzc0xpc3QuYWRkKCdzbWFsbC1pY29uJywgJ2RlbGV0ZScpO1xuICB0cmFzaEljb24uc2V0QXR0cmlidXRlKCd0b2RvLWluZGV4JywgaW5kZXgpO1xuICB0cmFzaEljb24uc2V0QXR0cmlidXRlKCdwcm9qZWN0JywgcHJvamVjdC5uYW1lLnRvTG93ZXJDYXNlKCkpO1xuICBcbiAgcmV0dXJuIHRyYXNoSWNvbjtcbn07XG5cbi8vIENyZWF0ZSB0aGUgY29tcGxldGUgdG9kbyBsaXN0IGVsZW1lbnQgZm9yIHRoZSBET01cbmNvbnN0IGNyZWF0ZVRvZG9MaXN0SXRlbSA9ICh0b2RvLCBwcm9qZWN0LCBpbmRleCkgPT4ge1xuICBjb25zdCB0b2RvRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHRvZG9EaXYuY2xhc3NMaXN0LmFkZCgndG9kbycpO1xuXG4gIGNvbnN0IHJhZGlvQnV0dG9uID0gY3JlYXRlUmFkaW9CdXR0b24odG9kbywgcHJvamVjdCwgaW5kZXgpO1xuICBjb25zdCB0cmFzaEljb24gPSBjcmVhdGVUcmFzaEljb24ocHJvamVjdCwgaW5kZXgpO1xuICBjb25zdCB0b2RvRGV0YWlscyA9IGNyZWF0ZVRvZG9JdGVtKHRvZG8sIHByb2plY3QsIGluZGV4KTtcblxuICB0b2RvRGl2LmFwcGVuZENoaWxkKHJhZGlvQnV0dG9uKTtcbiAgdG9kb0Rpdi5hcHBlbmRDaGlsZCh0b2RvRGV0YWlscyk7XG4gIHRvZG9EaXYuYXBwZW5kQ2hpbGQodHJhc2hJY29uKTtcblxuICByZXR1cm4gdG9kb0Rpdjtcbn1cblxuLy8gQ3JlYXRlIHRoZSBhZGQgdGFzayBidXR0b25cbmNvbnN0IGNyZWF0ZUFkZFRhc2tCdXR0b24gPSAocHJvamVjdCkgPT4ge1xuICBjb25zdCBhZGRUb2RvRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGFkZFRvZG9EaXYuY2xhc3NMaXN0LmFkZCgnYWRkLXRvZG8nKTtcbiAgYWRkVG9kb0Rpdi5zZXRBdHRyaWJ1dGUoJ3Byb2plY3QnLCBwcm9qZWN0Lm5hbWUudG9Mb3dlckNhc2UoKSk7XG5cbiAgY29uc3QgcGx1c0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBwbHVzRGl2LmNsYXNzTGlzdC5hZGQoJ3BsdXMnKTtcbiAgY29uc3QgcGx1cyA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcrJylcbiAgcGx1c0Rpdi5hcHBlbmRDaGlsZChwbHVzKTtcblxuICBhZGRUb2RvRGl2LmFwcGVuZENoaWxkKHBsdXNEaXYpO1xuICBjb25zdCB0YXNrVGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnQWRkIHRhc2snKVxuICBhZGRUb2RvRGl2LmFwcGVuZENoaWxkKHRhc2tUZXh0Tm9kZSk7XG5cbiAgcmV0dXJuIGFkZFRvZG9EaXY7XG59O1xuXG5leHBvcnQge1xuICBsb2FkUHJvamVjdCxcbiAgcmVsb2FkUHJvamVjdFxufTsiLCJjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbCcpO1xuY29uc3QgbW9kYWxDYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kYWwtY2FyZCcpWzBdO1xuY29uc3QgbW9kYWxDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kYWwtY29udGVudCcpWzBdO1xuY29uc3QgY2xvc2VNb2RhbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZS1tb2RhbCcpO1xuXG4vLyBDbG9zZSBtb2RhbCBpZiB3aW5kb3cgY2xpY2tlZFxud2luZG93Lm9uY2xpY2sgPSAoZSkgPT4ge1xuICBpZiAoZS50YXJnZXQgPT09IG1vZGFsKSB7XG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxufVxuXG4vLyBDbG9zZSBtb2RhbCBpZiBjbG9zZSBidXR0b24gaXMgY2xpY2tlZFxuY2xvc2VNb2RhbEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufVxuXG4vLyBEaXNwbGF5IG1vcmUgZGV0YWlsIG1vZGFsIGdpdmVuIGEgdG9kbyBvYmplY3RcbmNvbnN0IGRpc3BsYXlUb2RvTW9kYWwgPSAodG9kbykgPT4ge1xuICBtb2RhbENvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gIGNvbnN0IHRvZG9Nb2RhbCA9IF9jcmVhdGVUb2RvTW9kYWwodG9kbyk7XG4gIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZCh0b2RvTW9kYWwpO1xuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbn07XG5cbi8vIERpc3BsYXkgbmV3IHRvZG8gZm9ybSBpbiBhIG1vZGFsXG5jb25zdCBkaXNwbGF5TmV3VG9kb01vZGFsID0gKHByb2plY3ROYW1lKSA9PiB7XG4gIG1vZGFsQ29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgY29uc3QgdG9kb0Zvcm0gPSBfY3JlYXRlTmV3VG9kb01vZGFsKHByb2plY3ROYW1lKTtcbiAgbW9kYWxDb250ZW50LmFwcGVuZENoaWxkKHRvZG9Gb3JtKTtcbiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59O1xuXG5jb25zdCBfY3JlYXRlTmV3VG9kb01vZGFsID0gKHByb2plY3QpID0+IHtcbiAgY29uc3QgdG9kb1RpdGxlID0gX2NyZWF0ZVRpdGxlRmllbGQoKTtcbiAgY29uc3QgdG9kb1ByaW9yaXR5ID0gX2NyZWF0ZVByaW9yaXR5RmllbGQoKTtcbiAgY29uc3QgdG9kb0R1ZURhdGUgPSBfY3JlYXRlRHVlRGF0ZUZpZWxkKCk7XG4gIGNvbnN0IHRvZG9EZXNjcmlwdGlvbiA9IF9jcmVhdGVEZXNjcmlwdGlvbkZpZWxkKCk7XG4gIGNvbnN0IHN1Ym1pdEJ0biA9IF9jcmVhdGVCdG4oJ0FkZCB0b2RvJyk7XG4gIGNvbnN0IGhpZGRlblByb2plY3RJbnB1dCA9IF9jcmVhdGVIaWRkZW5Qcm9qZWN0RmllbGQocHJvamVjdCk7XG5cbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKVxuICBmb3JtLmlkID0gJ25ldy10b2RvLWZvcm0nO1xuXG4gIGZvcm0uYXBwZW5kQ2hpbGQodG9kb1RpdGxlKTtcbiAgZm9ybS5hcHBlbmRDaGlsZCh0b2RvUHJpb3JpdHkpO1xuICBmb3JtLmFwcGVuZENoaWxkKHRvZG9EdWVEYXRlKTtcbiAgZm9ybS5hcHBlbmRDaGlsZCh0b2RvRGVzY3JpcHRpb24pO1xuICBmb3JtLmFwcGVuZENoaWxkKHN1Ym1pdEJ0bik7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoaGlkZGVuUHJvamVjdElucHV0KTtcblxuICByZXR1cm4gZm9ybTtcbn07XG5cbi8vIENyZWF0ZSBtb3JlIGRldGFpbHMgbW9kYWwgYW5kIGFwcGVuZCB0byBtb2RhbCBjb250ZW50IGRpdlxuY29uc3QgX2NyZWF0ZVRvZG9Nb2RhbCA9ICh0b2RvKSA9PiB7XG4gIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gIGhlYWRlci5pbm5lckhUTUwgPSB0b2RvLnRpdGxlXG5cbiAgY29uc3QgcHJpb3JpdHkgPSBfY3JlYXRlTW9kYWxUZXh0U2VjdGlvbignUHJpb3JpdHknLCB0b2RvLnByaW9yaXR5KTtcbiAgY29uc3QgZHVlRGF0ZSA9IF9jcmVhdGVNb2RhbFRleHRTZWN0aW9uKCdEdWUgZGF0ZScsIHRvZG8uZHVlRGF0ZSk7XG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gX2NyZWF0ZU1vZGFsVGV4dFNlY3Rpb24oJ0Rlc2NyaXB0aW9uJywgdG9kby5kZXNjcmlwdGlvbik7XG5cbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgZGl2LmFwcGVuZENoaWxkKGhlYWRlcik7XG4gIGRpdi5hcHBlbmRDaGlsZChwcmlvcml0eSk7XG4gIGRpdi5hcHBlbmRDaGlsZChkdWVEYXRlKTtcbiAgZGl2LmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcblxuICByZXR1cm4gZGl2O1xufTtcblxuLy8gQ3JlYXRlIGEgc3RhbmRhcmQgbW9kYWwgdGV4dCBlbGVtZW50IHdpdGggdGl0bGUgYW5kIHRleHQgY29udGVudFxuY29uc3QgX2NyZWF0ZU1vZGFsVGV4dFNlY3Rpb24gPSAodGl0bGUsIGNvbnRlbnQpID0+IHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgY29uc3Qgc2VjdGlvblRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBzZWN0aW9uVGl0bGUuY2xhc3NMaXN0LmFkZCgndGl0bGUnKTtcbiAgc2VjdGlvblRpdGxlLmlubmVySFRNTCA9IHRpdGxlO1xuXG4gIGNvbnN0IHNlY3Rpb25Db250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBzZWN0aW9uQ29udGVudC5pbm5lckhUTUwgPSBjb250ZW50XG5cbiAgZGl2LmFwcGVuZENoaWxkKHNlY3Rpb25UaXRsZSk7XG4gIGRpdi5hcHBlbmRDaGlsZChzZWN0aW9uQ29udGVudCk7XG5cbiAgcmV0dXJuIGRpdjtcbn07XG5cbmNvbnN0IF9jcmVhdGVUaXRsZUZpZWxkID0gKCkgPT4ge1xuICBjb25zdCB0aXRsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0aXRsZURpdi5jbGFzc0xpc3QuYWRkKCdmaWVsZCcpO1xuXG4gIGNvbnN0IHRpdGxlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICB0aXRsZUxhYmVsLmNsYXNzTGlzdC5hZGQoJ2xhYmVsJyk7XG4gIHRpdGxlTGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCAndGl0bGUnKTtcbiAgdGl0bGVMYWJlbC5pbm5lckhUTUwgPSAnVGl0bGUnO1xuICBjb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdGl0bGVJbnB1dC5pZCA9ICd0aXRsZSc7XG4gIHRpdGxlSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgdGl0bGVJbnB1dC5jbGFzc0xpc3QuYWRkKCdpbnB1dCcpXG5cbiAgdGl0bGVEaXYuYXBwZW5kQ2hpbGQodGl0bGVMYWJlbCk7XG4gIHRpdGxlRGl2LmFwcGVuZENoaWxkKHRpdGxlSW5wdXQpO1xuXG4gIHJldHVybiB0aXRsZURpdjtcbn07XG5cbmNvbnN0IF9jcmVhdGVQcmlvcml0eUZpZWxkID0gKCkgPT4ge1xuICBjb25zdCBwcmlvcml0eURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBwcmlvcml0eURpdi5jbGFzc0xpc3QuYWRkKCdmaWVsZCcpO1xuICBjb25zdCBwcmlvcml0eU9wdGlvbnMgPSBbJ0xvdycsICdNZWRpdW0nLCAnSGlnaCddO1xuICBjb25zdCBwcmlvcml0eUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgcHJpb3JpdHlMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdwcmlvcml0eScpO1xuICBwcmlvcml0eUxhYmVsLmNsYXNzTGlzdC5hZGQoJ2xhYmVsJyk7XG4gIHByaW9yaXR5TGFiZWwuaW5uZXJIVE1MID0gJ1ByaW9yaXR5JztcbiAgY29uc3QgcHJpb3JpdHlJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICBwcmlvcml0eUlucHV0LmlkID0gJ3ByaW9yaXR5JztcbiAgcHJpb3JpdHlJbnB1dC5jbGFzc0xpc3QuYWRkKCdzZWxlY3QnKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmlvcml0eU9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwcmlvcml0eU9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIHByaW9yaXR5T3B0aW9uLnZhbHVlID0gcHJpb3JpdHlPcHRpb25zW2ldO1xuICAgIHByaW9yaXR5T3B0aW9uLnRleHQgPSBwcmlvcml0eU9wdGlvbnNbaV07XG4gICAgcHJpb3JpdHlJbnB1dC5hcHBlbmRDaGlsZChwcmlvcml0eU9wdGlvbik7XG4gIH1cblxuICBwcmlvcml0eURpdi5hcHBlbmRDaGlsZChwcmlvcml0eUxhYmVsKTtcbiAgcHJpb3JpdHlEaXYuYXBwZW5kQ2hpbGQocHJpb3JpdHlJbnB1dCk7XG5cbiAgcmV0dXJuIHByaW9yaXR5RGl2O1xufTtcblxuY29uc3QgX2NyZWF0ZUR1ZURhdGVGaWVsZCA9ICgpID0+IHtcbiAgY29uc3QgZHVlRGF0ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkdWVEYXRlRGl2LmNsYXNzTGlzdC5hZGQoJ2ZpZWxkJyk7XG4gIGNvbnN0IGR1ZURhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGR1ZURhdGVMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdkdWVkYXRlJyk7XG4gIGR1ZURhdGVMYWJlbC5jbGFzc0xpc3QuYWRkKCdsYWJlbCcpO1xuICBkdWVEYXRlTGFiZWwuaW5uZXJIVE1MID0gJ0R1ZSBkYXRlJztcbiAgY29uc3QgZHVlRGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgZHVlRGF0ZUlucHV0LmlkID0gJ2R1ZWRhdGUnO1xuICBkdWVEYXRlSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2RhdGUnKTtcblxuICBkdWVEYXRlRGl2LmFwcGVuZENoaWxkKGR1ZURhdGVMYWJlbCk7XG4gIGR1ZURhdGVEaXYuYXBwZW5kQ2hpbGQoZHVlRGF0ZUlucHV0KTtcblxuICByZXR1cm4gZHVlRGF0ZURpdjtcbn07XG5cbmNvbnN0IF9jcmVhdGVEZXNjcmlwdGlvbkZpZWxkID0gKCkgPT4ge1xuICBjb25zdCBkZXNjcmlwdGlvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkZXNjcmlwdGlvbkRpdi5jbGFzc0xpc3QuYWRkKCdmaWVsZCcpO1xuICBjb25zdCBkZXNjcmlwdGlvbkxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgZGVzY3JpcHRpb25MYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdkZXNjcmlwdGlvbicpO1xuICBkZXNjcmlwdGlvbkxhYmVsLmNsYXNzTGlzdC5hZGQoJ2xhYmVsJyk7XG4gIGRlc2NyaXB0aW9uTGFiZWwuaW5uZXJIVE1MID0gJ0Rlc2NyaXB0aW9uJztcbiAgY29uc3QgZGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gIGRlc2NyaXB0aW9uSW5wdXQuaWQgPSAnZGVzY3JpcHRpb24nO1xuICBkZXNjcmlwdGlvbklucHV0LmNsYXNzTGlzdC5hZGQoJ3RleHRhcmVhJyk7XG5cbiAgZGVzY3JpcHRpb25EaXYuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25MYWJlbCk7XG4gIGRlc2NyaXB0aW9uRGl2LmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uSW5wdXQpO1xuXG4gIHJldHVybiBkZXNjcmlwdGlvbkRpdjtcbn07XG5cbmNvbnN0IF9jcmVhdGVCdG4gPSAoYnV0dG9uVGV4dCkgPT4ge1xuICBjb25zdCBmaWVsZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBmaWVsZERpdi5jbGFzc0xpc3QuYWRkKCdmaWVsZCcpXG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbicpO1xuICBidXR0b24uaW5uZXJIVE1MID0gYnV0dG9uVGV4dDtcblxuICBmaWVsZERpdi5hcHBlbmRDaGlsZChidXR0b24pO1xuICByZXR1cm4gZmllbGREaXY7XG59XG5cbmNvbnN0IF9jcmVhdGVIaWRkZW5Qcm9qZWN0RmllbGQgPSAocHJvamVjdCkgPT4ge1xuICBjb25zdCBoaWRkZW5GaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGhpZGRlbkZpZWxkLnNldEF0dHJpYnV0ZSgndHlwZScsICdoaWRkZW4nKTtcbiAgaGlkZGVuRmllbGQudmFsdWUgPSBwcm9qZWN0O1xuICBoaWRkZW5GaWVsZC5pZCA9ICdwcm9qZWN0JztcblxuICByZXR1cm4gaGlkZGVuRmllbGQ7XG59XG5cbmV4cG9ydCB7XG4gIGRpc3BsYXlUb2RvTW9kYWwsXG4gIGRpc3BsYXlOZXdUb2RvTW9kYWwsXG59OyIsImltcG9ydCB0b2RvIGZyb20gXCIuL3RvZG9cIjtcbmltcG9ydCBwcm9qZWN0IGZyb20gXCIuL3Byb2plY3RcIjtcbmltcG9ydCB7IGxvYWRQcm9qZWN0LCByZWxvYWRQcm9qZWN0IH0gZnJvbSBcIi4vbG9hZFRvZG9zXCI7XG5pbXBvcnQgeyBkaXNwbGF5VG9kb01vZGFsLCBkaXNwbGF5TmV3VG9kb01vZGFsIH0gZnJvbSBcIi4vbW9kYWxWaWV3Q29udHJvbGxlclwiO1xuaW1wb3J0IHsgdG9nZ2xlVG9kb0J1dHRvbiwgcmVtb3ZlVG9kb0l0ZW0gfSBmcm9tIFwiLi90b2RvVmlld0NvbnRyb2xsZXJcIjtcblxuY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1cmdlcicpO1xuY29uc3QgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51Jyk7XG5cbmJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1oaWRkZW4nKTtcbn0pO1xuXG5jb25zdCBpbmJveCA9IHByb2plY3QoJ0luYm94Jyk7XG5jb25zdCB0ZXN0VG9kbzEgPSB0b2RvKCdBIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCB0YXNrJywgJ04vYScsICdXaGVuZXZlcicsICdIaWdoJyk7XG5jb25zdCB0ZXN0VG9kbzIgPSB0b2RvKCdBIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCB0YXNrJywgJ04vYScsICdXaGVuZXZlcicsICdIaWdoJyk7XG5jb25zdCB0ZXN0VG9kbzMgPSB0b2RvKCdBIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCB0YXNrJywgJ04vYScsICdXaGVuZXZlcicsICdIaWdoJyk7XG5pbmJveC5hZGRUb2RvKHRlc3RUb2RvMSk7XG5pbmJveC5hZGRUb2RvKHRlc3RUb2RvMik7XG5pbmJveC5hZGRUb2RvKHRlc3RUb2RvMyk7XG5cbmluYm94LnRvZ2dsZVRvZG9TdGF0dXMoMik7XG5cblxubG9hZFByb2plY3QoaW5ib3gpO1xuXG5jb25zdCB3b3JrID0gcHJvamVjdCgnV29yaycpO1xuY29uc3Qgd29yazEgPSB0b2RvKCdBIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCB3b3JrIHRhc2snLCAnTi9hJywgJ1doZW5ldmVyJywgJ0hpZ2gnKTtcbmNvbnN0IHdvcmsyID0gdG9kbygnQSBkeW5hbWljYWxseSBnZW5lcmF0ZWQgd29yayB0YXNrJywgJ04vYScsICdXaGVuZXZlcicsICdIaWdoJyk7XG53b3JrLmFkZFRvZG8od29yazEpO1xud29yay5hZGRUb2RvKHdvcmsyKTtcblxubG9hZFByb2plY3Qod29yayk7XG5cbmNvbnN0IHByb2plY3RzID0ge1xuICBpbmJveCxcbiAgd29ya1xufVxuXG4vLyBNYWluIGNvbnRlbnQgZGl2IGNvbnRhaW5zIHRvZG8gbGlzdHMgYW5kIHJlbGF0ZWQgZnVuY3Rpb25hbGl0eVxuY29uc3QgbWFpbkNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpO1xuXG5tYWluQ29udGVudERpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gIC8vIEd1YXJkIGNsYXVzZSBpZiBlbGVtZW50IHNlbGVjdGVkIGlzIG5vdCBhIHRvZG8gaXRlbVxuICBpZiAoIWUudGFyZ2V0Lmhhc0F0dHJpYnV0ZSgncHJvamVjdCcpKSByZXR1cm47XG5cbiAgY29uc3QgcHJvamVjdE5hbWUgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3Byb2plY3QnKTtcbiAgY29uc3QgdG9kb0luZGV4ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCd0b2RvLWluZGV4Jyk7XG4gIGNvbnN0IHRvZG9JdGVtID0gcHJvamVjdHNbcHJvamVjdE5hbWVdLmdldFRvZG8odG9kb0luZGV4KTtcblxuICAvLyBFdmVudCBkZWxlZ2F0aW9uIHRvIGRldGVybWluZSB3aGljaCB0YXNrIHRvIHJ1blxuICBpZiAoZS50YXJnZXQubWF0Y2hlcygnLnJhZGlvJykpIHtcbiAgICB0b2dnbGVUb2RvQnV0dG9uKGUudGFyZ2V0KTtcbiAgICBwcm9qZWN0c1twcm9qZWN0TmFtZV0udG9nZ2xlVG9kb1N0YXR1cyh0b2RvSW5kZXgpO1xuICB9IGVsc2UgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoJy50aXRsZScpKSB7XG4gICAgZGlzcGxheVRvZG9Nb2RhbCh0b2RvSXRlbSk7XG4gIH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcygnLmRlbGV0ZScpKSB7XG4gICAgcHJvamVjdHNbcHJvamVjdE5hbWVdLnJlbW92ZVRvZG8odG9kb0luZGV4KTtcbiAgICBjb25zb2xlLmxvZyhwcm9qZWN0c1twcm9qZWN0TmFtZV0pO1xuICAgIHJlbG9hZFByb2plY3QocHJvamVjdHNbcHJvamVjdE5hbWVdKTtcbiAgfSBlbHNlIGlmIChlLnRhcmdldC5tYXRjaGVzKCcuYWRkLXRvZG8nKSkge1xuICAgIGRpc3BsYXlOZXdUb2RvTW9kYWwocHJvamVjdE5hbWUpO1xuICB9XG59KTtcblxuLy8gTW9kYWwgY29udGVudCBkaXYgY29udGFpbnMgYWJpbGl0eSB0byBjcmVhdGUgYW5kIGVkaXQgbmV3IHRvZG9zIGFuZCBwcm9qZWN0c1xuY29uc3QgbW9kYWxDb250ZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kYWwtY29udGVudCcpWzBdO1xuXG5tb2RhbENvbnRlbnREaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAvLyBHdWFyZCBjbGF1c2UsIG9ubHkgZWxlbWVudCB3aGljaCBzaG91bGQgaGF2ZSBpbXBhY3QgYXJlIGJ1dHRvbnNcbiAgaWYgKCFlLnRhcmdldC5tYXRjaGVzKCcuYnV0dG9uJykpIHJldHVybjtcblxuICAvLyBDcmVhdGUgdG9kbyBpdGVtIHVzaW5nIGZvcm0gaW5wdXQgZGF0YVxuICBjb25zdCB0aXRsZVZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykudmFsdWU7XG4gIGNvbnN0IHByaW9yaXR5VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpb3JpdHknKS52YWx1ZTtcbiAgY29uc3QgZHVlRGF0ZVZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R1ZWRhdGUnKS52YWx1ZTtcbiAgY29uc3QgZGVzY3JpcHRpb25WYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpLnZhbHVlO1xuICBjb25zdCBwcm9qZWN0VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdCcpLnZhbHVlO1xuICBjb25zdCB0b2RvSXRlbSA9IHRvZG8odGl0bGVWYWx1ZSwgZGVzY3JpcHRpb25WYWx1ZSwgZHVlRGF0ZVZhbHVlLCBwcmlvcml0eVZhbHVlKTtcblxuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gIC8vIEFkZCB0b2RvIGl0ZW0gdG8gcHJvamVjdCB0b2RvIGxpc3QgYW5kIHJlZnJlc2ggRE9NXG4gIHByb2plY3RzW3Byb2plY3RWYWx1ZV0uYWRkVG9kbyh0b2RvSXRlbSk7XG4gIHJlbG9hZFByb2plY3QocHJvamVjdHNbcHJvamVjdFZhbHVlXSk7XG59KTsiLCIvLyBUb2dnbGUgcmFkaW8gYnV0dG9uIHN0eWxpbmcgdG8gc2VsZWN0L2Rlc2VsZWN0XG5jb25zdCB0b2dnbGVUb2RvQnV0dG9uID0gKHRhcmdldCkgPT4ge1xuICB0YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKTtcbn07XG5cbi8vIFJlbW92ZSB0b2RvIGZyb20gdG9kbyBsaXN0XG5jb25zdCByZW1vdmVUb2RvSXRlbSA9ICh0YXJnZXQpID0+IHtcbiAgdGFyZ2V0LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG59O1xuXG5leHBvcnQge1xuICB0b2dnbGVUb2RvQnV0dG9uLFxuICByZW1vdmVUb2RvSXRlbVxufSJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJzdGF0dXMiLCJnZXRTdGF0dXMiLCJ0b2dnbGVTdGF0dXMiLCJuYW1lIiwidG9kb0xpc3QiLCJhZGRUb2RvIiwidG9kbyIsInB1c2giLCJyZW1vdmVUb2RvIiwiaW5kZXgiLCJzcGxpY2UiLCJ0b2dnbGVUb2RvU3RhdHVzIiwiZWRpdFRvZG8iLCJnZXRUb2RvIiwiY29udGVudERpdiIsImdldEVsZW1lbnRCeUlkIiwibG9hZFByb2plY3QiLCJwcm9qZWN0IiwiaGVhZGVyIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRvZG9zRGl2IiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJpZCIsInRvTG93ZXJDYXNlIiwiZm9yRWFjaCIsInRvZG9MaXN0SXRlbSIsImNyZWF0ZVRvZG9MaXN0SXRlbSIsImFkZFRhc2siLCJjcmVhdGVBZGRUYXNrQnV0dG9uIiwicmVsb2FkUHJvamVjdCIsInByb2plY3REaXYiLCJ0b2RvRGl2IiwicmFkaW9CdXR0b24iLCJyYWRpb0RpdiIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZVJhZGlvQnV0dG9uIiwidHJhc2hJY29uIiwiY3JlYXRlVHJhc2hJY29uIiwidG9kb0RldGFpbHMiLCJwcm9qZWN0RGV0YWlscyIsImNyZWF0ZVRvZG9JdGVtIiwiYWRkVG9kb0RpdiIsInBsdXNEaXYiLCJwbHVzIiwiY3JlYXRlVGV4dE5vZGUiLCJ0YXNrVGV4dE5vZGUiLCJtb2RhbENvbnRlbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY2xvc2VNb2RhbEJ0biIsIm9uY2xpY2siLCJ0YXJnZXQiLCJzdHlsZSIsImRpc3BsYXkiLCJfY3JlYXRlTW9kYWxUZXh0U2VjdGlvbiIsImNvbnRlbnQiLCJkaXYiLCJzZWN0aW9uVGl0bGUiLCJzZWN0aW9uQ29udGVudCIsIl9jcmVhdGVUaXRsZUZpZWxkIiwidGl0bGVEaXYiLCJ0aXRsZUxhYmVsIiwidGl0bGVJbnB1dCIsIl9jcmVhdGVQcmlvcml0eUZpZWxkIiwicHJpb3JpdHlEaXYiLCJwcmlvcml0eU9wdGlvbnMiLCJwcmlvcml0eUxhYmVsIiwicHJpb3JpdHlJbnB1dCIsImkiLCJwcmlvcml0eU9wdGlvbiIsInZhbHVlIiwidGV4dCIsIl9jcmVhdGVEdWVEYXRlRmllbGQiLCJkdWVEYXRlRGl2IiwiZHVlRGF0ZUxhYmVsIiwiZHVlRGF0ZUlucHV0IiwiX2NyZWF0ZURlc2NyaXB0aW9uRmllbGQiLCJkZXNjcmlwdGlvbkRpdiIsImRlc2NyaXB0aW9uTGFiZWwiLCJkZXNjcmlwdGlvbklucHV0IiwiX2NyZWF0ZUJ0biIsImJ1dHRvblRleHQiLCJmaWVsZERpdiIsImJ1dHRvbiIsIl9jcmVhdGVIaWRkZW5Qcm9qZWN0RmllbGQiLCJoaWRkZW5GaWVsZCIsImJ1cmdlciIsIm1lbnUiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlIiwiaW5ib3giLCJ0ZXN0VG9kbzEiLCJ0ZXN0VG9kbzIiLCJ0ZXN0VG9kbzMiLCJ3b3JrIiwid29yazEiLCJ3b3JrMiIsInByb2plY3RzIiwiaGFzQXR0cmlidXRlIiwicHJvamVjdE5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJ0b2RvSW5kZXgiLCJ0b2RvSXRlbSIsIm1hdGNoZXMiLCJ0b2RvTW9kYWwiLCJfY3JlYXRlVG9kb01vZGFsIiwiZGlzcGxheVRvZG9Nb2RhbCIsImNvbnNvbGUiLCJsb2ciLCJ0b2RvRm9ybSIsInRvZG9UaXRsZSIsInRvZG9Qcmlvcml0eSIsInRvZG9EdWVEYXRlIiwidG9kb0Rlc2NyaXB0aW9uIiwic3VibWl0QnRuIiwiaGlkZGVuUHJvamVjdElucHV0IiwiZm9ybSIsIl9jcmVhdGVOZXdUb2RvTW9kYWwiLCJkaXNwbGF5TmV3VG9kb01vZGFsIiwidGl0bGVWYWx1ZSIsInByaW9yaXR5VmFsdWUiLCJkdWVEYXRlVmFsdWUiLCJkZXNjcmlwdGlvblZhbHVlIiwicHJvamVjdFZhbHVlIiwibW9kYWwiXSwic291cmNlUm9vdCI6IiJ9